<import name="gank-item" src="../views/gank-item"></import>
<import name="gank-item-header" src="../views/gank-item-header"></import>
<template>
  <div class="tab-section">

      <block for="item in dailydata">
          <gank-item-header title="{{item.name}}"></gank-item-header>
          <block if="item.name === '福利'">
              <image class="content-benefit-image" src="http://ww2.sinaimg.cn/large/7a8aed7bgw1eutscfcqtcj20dw0i0q4l.jpg"></image>
          </block>
          <block else for="it in item.value">
              <gank-item item-des="{{it.desc}}" item-url="{{it.url}}" item-who="{{it.who}}" item-published-at="{{it.publishedAt}}"></gank-item>
          </block>
      </block>

  </div>
</template>

<style>
  .tab-section {
    flex-direction: column;
    align-items: center;
    margin: 0px;
  }
  .content-section {
    flex-direction: column;
  }
  .content-benefit-image {
    height: 800px;
  }
  .tab-content {
    flex: 1;
    background-color: #eeeeee;
  }
  .list-content {
    flex: 1;
    padding-left: 0px;
    padding-right: 0px;
  }
</style>

<script>
  import gankCategory from '../data/GankCategory.js'
  import request from '../utils/request.js'
  export default {

    props: [
      'index',
      'dailydata',
      // 驼峰式在赋值时使用-连接
      'currentIndex',
      'contentdesc',
      'date'
    ],
    private: {
      listD: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N']
    },
    onInit () {

      // 监听属性变化
      this.$watch('currentIndex', 'watchCurrentIndex');
      console.log(`data = `+this.dailydata)
      this.listD = ['A', 'B', 'C', 'D']

      //console.log(`data size = `+this.gankData.length)
    },
    /**
     * 监听用户选择的索引，选中当前时触发业务逻辑
     * @param newValue
     * @param oldValue
     */
    watchCurrentIndex (newValue, oldValue) {
      if (parseInt(this.index) === this.currentIndex) {
        console.debug(`当前用户选择了这个标签：${this.index}, ${newValue}, ${oldValue}`)
        //this.listdata.push("F")
      }
    }
  }

</script>